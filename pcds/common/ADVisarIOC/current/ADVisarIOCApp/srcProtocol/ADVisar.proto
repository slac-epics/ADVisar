#All commands are case insensitive.
#Commands have the general form:
#     COMMAND(OPTIONAL,COMMA,SEPARATED,PARAMETER,LIST)\r
#Responses have the general form:
#     CODE,COMMAND,OPTIONAL,COMMA,SEPARATED,RESPONSE,VALUES\r


InTerminator  = CR;
OutTerminator = CR;
ReplyTimeout  =  2000;
ReadTimeout   =  100;
WriteTimeout  =  100;
ExtraInput    = Ignore;

app_info{
	out "AppInfo(Version)";
	in  "0,AppInfo,%40c";
	@mismatch "%(\$1:ErrorCode)d,CamParamSet,"%(\$1:AppStatus)d;
}



# Parameters
############################

# Exposure / AD AcquireTime in ns
############################
set_exposure_time{
	out "CamParamSet(Live,Exposure,%f ns)";
	in  "0,CamParamSet";
	@mismatch "%(\$1:ErrorCode)d,CamParamSet";
}
get_exposure_time{
	out "CamParamGet(Live,Exposure)";
	in  "0,CamParamSet,%f ns";
	@mismatch "%(\$1:ErrorCode)d,CamParamSet";
}


# II Gain / AD Gain
############################
set_II_gain{
	out "CamParamSet(TD,II-Gain,%d)";
	in  "0,CamParamSet";
	@mismatch "%(\$1:ErrorCode)d,CamParamSet";
}
get__II_gain{
	out "CamParamGet(TD,II-Gain)";
	in  "0,CamParamSet,%d";
	@mismatch "%(\$1:ErrorCode)d,CamParamSet";
}



set_mode{
	out "CamParamSet(TD,TimeRange,{Focus|Operate})";
	in "0,CamParamSet";
	@mismatch "%(\$1:ErrorCode)d,CamParamSet";
}
get_mode{
	out "CamParamGet(TD,TimeRange)";
	in "0,CamParamGet,%%($1:MODE){Focus|Operate}";
	@mismatch "%(\$1:ErrorCode)d,CamParamGet,%{Focus|Operate}";
}


set_gate_mode{
	out "CamParamSet(TD,GateMode,%{Normal|Gate|Open Fixed})";
	in "0,CamParamSet";
	@mismatch "%(\$1:ErrorCode)d,CamParamSet";

}
get_gate_mode{
	out "CamParamGet(TD,GateMode)";
	in "0,CamParamGet,%($1:GATE_MODE){Normal|Gate|Open Fixed}";
	@mismatch "%(\$1:ErrorCode)d,CamParamGet,%{Normal|Gate|Open Fixed}";
}



set_shutter{
	out "CamParamSet(TD,Shutter,%{Closed|Open})";
	in "0,CamParamSet";
	@mismatch "%(\$1:ErrorCode)d,CamParamSet";
}
get_shutter{
	out "CamParamGet(TD,Shutter)";
	in "0,CamParamGet,%{Closed|Open}";
	@mismatch "%(\$1:ErrorCode)d,CamParamGet";
}

set_trigger_mode{
	out "CamParamSet(TD,TriggerMode,%{Single|Cont})";
	in "0,CamParamSet";
	@mismatch "%(\$1:ErrorCode)d,CamParamSet";
}
get_trigger_mode{
	out "CamParamGet(TD,TriggerMode)";
	in "0,CamParamGet,%{Single|Cont}";
	@mismatch "%(\$1:ErrorCode)d,CamParamGet,%{Single|Cont}";
}

get_trigger_status{
	out "CamParamGet(TD,TriggerStatus)";
	in "0,CamParamGet,%{Ready|Fired|Do Reset}";
	@mismatch "%(\$1:ErrorCode)d,CamParamGet,%{Ready|Fired|Do Reset}";
}


set_focus_time_over{
	out "CamParamSet(TD,FocusTimeOver,%d)";
	in "0,CamParamSet";
	@mismatch "%(\$1:ErrorCode)d,CamParamSet";
}

get_focus_time_over{
	out "CamParamGet(TD,FocusTimeOver)";
	in "0,CamParamGet,%d";
	@mismatch "%(\$1:ErrorCode)d";
}

get_model{
	out "MainParamGet(StreakCamera)"
	in  "0,MainParamGet,%40c";
	@mismatch "%(\$1:ErrorCode)d,MainParamGet";
}


set_time_range{
	out "CamParamSet(TD,TimeRange,%{0.5 ns|1 ns|2 ns|5 ns|10 ns|20 ns|50 ns|100 ns|200 ns|500 ns|1 us|2 us|5 us|10 us|20 us|50 us})";
	in "0,CamParamSet";
	@mismatch "%(\$1:ErrorCode)d,CamParamSet";
}
get_time_range{
	out "CamParamGet(TD,TimeRange)";
	in "0,CamParamGet,%{0.5 ns|1 ns|2 ns|5 ns|10 ns|20 ns|50 ns|100 ns|200 ns|500 ns|1 us|2 us|5 us|10 us|20 us|50 us}";
	@mismatch "%(\$1:ErrorCode)d,CamParamGet";
}



#####




remote_ready {
	in "RemoteEx Ready";
}

remote_data_ready {
	in "RemoteEx Data Ready";
}


error_code{
	in "%d,%*s"
}

app_start{
	out "AppStart()"
	in "%d,AppStart"
}

app_end{
	out "AppEnd()"
	in "%d,AppEnd"
}

app_version{
	out "AppInfo(Version)"
	in "%d,AppInfo,%*s"
}

acq_start{
	out "AcqStart(Live)"
	in "%d,AcqStart"
}

acq_stio{
	out "AcqStart(Live)"
	in "%d,AcqStart"
}

acq_start{
	out "AcqStop()"
	in "%d,AcqStop"
}









